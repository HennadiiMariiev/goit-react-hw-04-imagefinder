(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{21:function(e,t,a){e.exports={App:"App_App__3GBr0",icon:"App_icon__3AtSx"}},31:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__OMBGq"}},35:function(e,t,a){e.exports={LoadMoreButton:"LoadMoreButton_LoadMoreButton__CUHK2"}},38:function(e,t,a){e.exports={Spinner:"Modal_Spinner__2rljr"}},41:function(e,t,a){e.exports={Container:"Container_Container__3t-fT"}},47:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3hKMU",Searchbar__title:"Searchbar_Searchbar__title__1mQ4Y",SearchForm:"Searchbar_SearchForm__1A5i1",SearchForm__input:"Searchbar_SearchForm__input__uYhW8",SearchForm__button:"Searchbar_SearchForm__button__3lCTK",SearchForm__label:"Searchbar_SearchForm__label__1VfhO",Material__icon:"Searchbar_Material__icon__2yBb2"}},7:function(e,t,a){e.exports={Card:"ImageGalleryItem_Card__3BDXg",Card__wrapper:"ImageGalleryItem_Card__wrapper__2Oluc",Card__image:"ImageGalleryItem_Card__image__3g5qn",Stats:"ImageGalleryItem_Stats__2dQmK",Stats__item:"ImageGalleryItem_Stats__item__164j2",Stats__load:"ImageGalleryItem_Stats__load__1qsyI",Material__icon:"ImageGalleryItem_Material__icon__3J-Jn"}},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),o=(a(47),a(12)),i=a(5),l=a(27),u=a.n(l),m=a(29),_=a.n(m),h=a(6),b=a.n(h),j=a(2);function g(e){var t=e.value,a=e.onInputChange,n=e.onSubmit,r=e.onClear,c=b.a.Searchbar,s=b.a.Searchbar__title,o=b.a.SearchForm,i=b.a.SearchForm__button,l=b.a.SearchForm__label,m=b.a.SearchForm__input,h=b.a.Material__icon;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("header",{className:c,children:[Object(j.jsx)("h1",{className:s,children:"Image finder"}),Object(j.jsxs)("form",{className:o,onSubmit:n,children:[Object(j.jsx)("input",{className:m,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:t,onChange:a}),Object(j.jsxs)("button",{type:"submit",className:i,disabled:""===t.trim(),children:[Object(j.jsx)(u.a,{className:h}),Object(j.jsx)("span",{className:l,children:"Search"})]}),Object(j.jsxs)("button",{type:"button",className:i,onClick:r,children:[Object(j.jsx)(_.a,{className:h}),Object(j.jsx)("span",{className:l,children:"Clear"})]})]})]})})}var d=a(30),p=a(14),f=function(){function e(){Object(d.a)(this,e),this.URL="https://pixabay.com/api/?image_type=photo&orientation=horizontal",this.KEY="22384845-2364b219a750a32869ef5ac48",this.page=1,this.query=""}return Object(p.a)(e,[{key:"nextPage",value:function(){return this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"resetQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.query!==e&&(this.query=e,this.page=1)}},{key:"fetchRequest",value:function(e){return this.resetQuery(e),fetch("".concat(this.URL,"&q=").concat(this.query,"&page=").concat(this.page,"&per_page=12&key=").concat(this.KEY)).then((function(e){return e.json()}))}}]),e}(),O=a(31),x=a.n(O),S=a(7),v=a.n(S),y=a(32),I=a.n(y),C=a(33),N=a.n(C),w=a(34),F=a.n(w),k=a(20),M=a.n(k),L=function(e){var t=e.webformatURL,n=e.tags,r=e.largeImageURL,c=e.likes,s=e.views,o=e.comments,i=e.downloads,l=e.onClick,u=v.a.Card,m=v.a.Card__wrapper,_=v.a.Stats,h=v.a.Stats__item,b=v.a.Card__image,g=v.a.Material__icon,d=v.a.Stats__load;return Object(j.jsx)("li",{className:u,children:Object(j.jsxs)("div",{className:m,children:[Object(j.jsx)("img",{src:t,alt:n,"data-large_img":r,className:b,onClick:l}),Object(j.jsxs)("div",{className:_,children:[Object(j.jsxs)("p",{className:h,children:[Object(j.jsx)(I.a,{className:g}),c]}),Object(j.jsxs)("p",{className:h,children:[Object(j.jsx)(N.a,{className:g}),s]}),Object(j.jsxs)("p",{className:h,children:[Object(j.jsx)(F.a,{className:g}),o]}),Object(j.jsxs)("p",{className:h,children:[Object(j.jsx)(M.a,{className:g}),i]})]}),Object(j.jsx)("button",{className:d,onClick:function(){return e=t,void a(54).saveAs(e,"image.jpg");var e},type:"button",children:Object(j.jsx)(M.a,{})})]})})},q=function(e){var t=e.imagesArray,a=e.onClick,n=x.a.ImageGallery;return Object(j.jsx)("ul",{className:n,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.tags,c=e.largeImageURL,s=e.likes,o=e.views,i=e.comments,l=e.downloads;return Object(j.jsx)(L,{webformatURL:n,tags:r,largeImageURL:c,likes:s,views:o,comments:i,downloads:l,onClick:a},t)}))})},R=a(13),U=a(18),G=a.n(U);function B(e,t){var a=null;switch(e){case"error":a=R.b.error(t);break;case"warning":a=R.b.warn(t);break;case"success":a=R.b.success(t);break;default:a=R.b.dark(t)}return a}var A=a(35),P=a.n(A),E=function(e){var t=e.loadMoreImages;return Object(j.jsx)("button",{type:"button",onClick:t,className:P.a.LoadMoreButton,children:"Load More"})};var K=a(36),T=(a(82),a(26),a(38)),Q=a.n(T);function J(e){var t=e.images,a=e.photoIndex,n=e.onClose,r=e.nextImage,c=e.prevImage;return Object(j.jsx)(K.a,{mainSrc:t[a].largeImageURL,nextSrc:t[(a+1)%t.length].largeImageURL,prevSrc:t[(a+t.length-1)%t.length].largeImageURL,onCloseRequest:n,onMovePrevRequest:c,onMoveNextRequest:r,loader:Object(j.jsx)(G.a,{type:"Circles",color:"#00BFFF",height:100,width:100,className:Q.a.Spinner})})}var Y=a(39),D=a.n(Y),H=a(40),z=a.n(H),V=(a(84),a(21)),W=a.n(V),X=new f;function Z(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(n.useState)(!1),_=Object(i.a)(m,2),h=_[0],b=_[1],d=Object(n.useState)(null),p=Object(i.a)(d,2),f=p[0],O=p[1],x=Object(n.useState)(null),S=Object(i.a)(x,2),v=S[0],y=S[1],I=Object(n.useState)(""),C=Object(i.a)(I,2),N=C[0],w=C[1];Object(n.useEffect)((function(){N&&(F(),X.fetchRequest(N).then((function(e){return e.hits})).then((function(e){r((function(t){return[].concat(Object(o.a)(t),Object(o.a)(e))})),k(v,e)})).then((function(){F(),v>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return B("error",e)})))}),[v]),Object(n.useEffect)((function(){""===N&&(r([]),y(X.resetPage()))}),[N]);var F=function(){u((function(e){return!e}))},k=function(e,t){var n=null,r=null;return 0===t.length?(n="warning",r=e>1?"No more images found on your query":"No images found on your query"):t.length>0&&(n="success",r="".concat(t.length,' new images loaded on "').concat(X.query,'" query. Total: ').concat(a.length+t.length)),B(n,r)};return Object(j.jsxs)("div",{className:W.a.App,children:[Object(j.jsx)(g,{value:N,onInputChange:function(e){w(e.target.value)},onSubmit:function(e){e.preventDefault(),y(X.page)},onClear:function(){r([]),w(""),X.resetQuery()}}),Object(j.jsx)(q,{imagesArray:a,onClick:function(e){if("IMG"===e.target.nodeName){var t=a.findIndex((function(t){return t.webformatURL===e.target.src}));O(t)}b(!h)}}),l&&Object(j.jsx)(G.a,{type:"Circles",color:"#00BFFF",height:100,width:100}),!!a.length&&!l&&Object(j.jsx)(E,{loadMoreImages:function(){y(X.nextPage())}}),h&&Object(j.jsx)(J,{images:a,photoIndex:f,onClose:function(){return b(!h)},nextImage:function(){var e=f+1;O(e>=a.length?0:e)},prevImage:function(){var e=f-1;O(e<0?a.length-1:e)}}),Object(j.jsx)(D.a,{showUnder:160,children:Object(j.jsx)("button",{type:"button",className:W.a.icon,children:Object(j.jsx)(z.a,{})})}),Object(j.jsx)(R.a,{})]})}var $=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,99)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},ee=a(41),te=a.n(ee),ae=function(e){var t=e.children;return Object(j.jsx)("div",{className:te.a.Container,children:t})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(ae,{children:Object(j.jsx)(Z,{})})}),document.getElementById("root")),$()}},[[86,1,2]]]);
//# sourceMappingURL=main.b0fdf64a.chunk.js.map