(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{16:function(e,t,a){e.exports={SearchBox:"SearchBox_SearchBox__2QOko",SearchBoxButton:"SearchBox_SearchBoxButton__jILl9",SearchBoxClear:"SearchBox_SearchBoxClear__77Sg4"}},22:function(e,t,a){e.exports={App:"App_App__3GBr0",icon:"App_icon__3AtSx"}},32:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__OMBGq"}},36:function(e,t,a){e.exports={LoadMoreButton:"LoadMoreButton_LoadMoreButton__CUHK2"}},39:function(e,t,a){e.exports={Spinner:"Modal_Spinner__2rljr"}},42:function(e,t,a){e.exports={Container:"Container_Container__3t-fT"}},48:function(e,t,a){},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3hKMU",Searchbar__title:"Searchbar_Searchbar__title__1mQ4Y",SearchForm:"Searchbar_SearchForm__1A5i1",SearchForm__input:"Searchbar_SearchForm__input__uYhW8",SearchForm__button:"Searchbar_SearchForm__button__3lCTK",SearchForm__label:"Searchbar_SearchForm__label__1VfhO",Material__icon:"Searchbar_Material__icon__2yBb2"}},8:function(e,t,a){e.exports={Card:"ImageGalleryItem_Card__3BDXg",Card__wrapper:"ImageGalleryItem_Card__wrapper__2Oluc",Card__image:"ImageGalleryItem_Card__image__3g5qn",Stats:"ImageGalleryItem_Stats__2dQmK",Stats__item:"ImageGalleryItem_Stats__item__164j2",Stats__load:"ImageGalleryItem_Stats__load__1qsyI",Material__icon:"ImageGalleryItem_Material__icon__3J-Jn"}},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),s=(a(48),a(6)),i=a(3),l=a(28),u=a.n(l),h=a(30),b=a.n(h),_=a(7),m=a.n(_),j=a(1);function d(e){var t=e.value,a=e.onInputChange,n=e.onSubmit,r=e.onClear,c=e.isDisabled,o=m.a.Searchbar,s=m.a.Searchbar__title,i=m.a.SearchForm,l=m.a.SearchForm__button,h=m.a.SearchForm__label,_=m.a.SearchForm__input,d=m.a.Material__icon;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("header",{className:o,children:[Object(j.jsx)("h1",{className:s,children:"Image finder"}),Object(j.jsxs)("form",{className:i,onSubmit:n,children:[Object(j.jsx)("input",{className:_,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:t,onChange:a}),Object(j.jsxs)("button",{type:"submit",className:l,disabled:c,children:[Object(j.jsx)(u.a,{className:d}),Object(j.jsx)("span",{className:h,children:"Search"})]}),Object(j.jsxs)("button",{type:"button",className:l,onClick:r,children:[Object(j.jsx)(b.a,{className:d}),Object(j.jsx)("span",{className:h,children:"Clear"})]})]})]})})}var g=a(16),f=a.n(g);function x(e){var t=e.searched,a=e.onSearchedClick,n=e.onSearchedClear;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:f.a.SearchBox,children:t.map((function(e,t){return Object(j.jsx)("button",{type:"button",className:f.a.SearchBoxButton,onClick:a,value:e,children:e},t)}))}),Object(j.jsx)("div",{className:f.a.SearchBox,children:t.length>0&&Object(j.jsx)("button",{type:"button",className:f.a.SearchBoxClear,onClick:n,children:"Clear all"})})]})}var p=a(31),O=a(14),S=function(){function e(){Object(p.a)(this,e),this.URL="https://pixabay.com/api/?image_type=photo&orientation=horizontal",this.KEY="22384845-2364b219a750a32869ef5ac48",this.page=1,this.query=""}return Object(O.a)(e,[{key:"nextPage",value:function(){return this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"resetQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.query!==e&&(this.query=e,this.page=1)}},{key:"fetchRequest",value:function(e){return this.resetQuery(e),fetch("".concat(this.URL,"&q=").concat(this.query,"&page=").concat(this.page,"&per_page=12&key=").concat(this.KEY)).then((function(e){return e.json()}))}}]),e}(),v=a(32),y=a.n(v),C=a(8),I=a.n(C),N=a(33),w=a.n(N),B=a(34),k=a.n(B),F=a(35),L=a.n(F),M=a(21),q=a.n(M);function R(e){var t=e.webformatURL,n=e.tags,r=e.largeImageURL,c=e.likes,o=e.views,s=e.comments,i=e.downloads,l=e.onClick,u=I.a.Card,h=I.a.Card__wrapper,b=I.a.Stats,_=I.a.Stats__item,m=I.a.Card__image,d=I.a.Material__icon,g=I.a.Stats__load;return Object(j.jsx)("li",{className:u,children:Object(j.jsxs)("div",{className:h,children:[Object(j.jsx)("img",{src:t,alt:n,"data-large_img":r,className:m,onClick:l}),Object(j.jsxs)("div",{className:b,children:[Object(j.jsxs)("p",{className:_,children:[Object(j.jsx)(w.a,{className:d}),c]}),Object(j.jsxs)("p",{className:_,children:[Object(j.jsx)(k.a,{className:d}),o]}),Object(j.jsxs)("p",{className:_,children:[Object(j.jsx)(L.a,{className:d}),s]}),Object(j.jsxs)("p",{className:_,children:[Object(j.jsx)(q.a,{className:d}),i]})]}),Object(j.jsx)("button",{className:g,onClick:function(){return e=t,void a(55).saveAs(e,"image.jpg");var e},type:"button",children:Object(j.jsx)(q.a,{})})]})})}function U(e){var t=e.imagesArray,a=e.onClick,n=y.a.ImageGallery;return Object(j.jsx)("ul",{className:n,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.tags,c=e.largeImageURL,o=e.likes,s=e.views,i=e.comments,l=e.downloads;return Object(j.jsx)(R,{webformatURL:n,tags:r,largeImageURL:c,likes:o,views:s,comments:i,downloads:l,onClick:a},t)}))})}var G=a(13);function A(e,t){var a=null;switch(e){case"error":a=G.b.error(t);break;case"warning":a=G.b.warn(t);break;case"success":a=G.b.success(t);break;default:a=G.b.dark(t)}return a}var E=a(36),Q=a.n(E);function J(e){var t=e.loadMoreImages;return Object(j.jsx)("button",{type:"button",onClick:t,className:Q.a.LoadMoreButton,children:"Load More"})}var K=a(37),P=a(19),T=a.n(P),D=(a(83),a(27),a(39)),Y=a.n(D);function H(e){var t=e.images,a=e.photoIndex,n=e.onClose,r=e.nextImage,c=e.prevImage;return Object(j.jsx)(K.a,{mainSrc:t[a].largeImageURL,nextSrc:t[(a+1)%t.length].largeImageURL,prevSrc:t[(a+t.length-1)%t.length].largeImageURL,onCloseRequest:n,onMovePrevRequest:c,onMoveNextRequest:r,loader:Object(j.jsx)(T.a,{type:"Circles",color:"#00BFFF",height:100,width:100,className:Y.a.Spinner})})}var z=a(40),V=a.n(z),W=a(41),X=a.n(W),Z=(a(85),a(22)),$=a.n(Z),ee=new S;function te(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),l=o[0],u=o[1],h=Object(n.useState)(null),b=Object(i.a)(h,2),_=b[0],m=b[1],g=Object(n.useState)([]),f=Object(i.a)(g,2),p=f[0],O=f[1],S=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("search"))||[]),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){localStorage.setItem("search",JSON.stringify(a))}),[a]),[a,r]}(),v=Object(i.a)(S,2),y=v[0],C=v[1],I=Object(n.useState)(!1),N=Object(i.a)(I,2),w=N[0],B=N[1],k=Object(n.useState)(!1),F=Object(i.a)(k,2),L=F[0],M=F[1],q=Object(n.useState)(null),R=Object(i.a)(q,2),E=R[0],Q=R[1];Object(n.useEffect)((function(){""!==a&&(K(),ee.fetchRequest(a).then((function(e){return e.hits})).then((function(e){O((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),D(_,e)})).then((function(){K(),_>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),y.includes(a)||C((function(e){return[].concat(Object(s.a)(e),[a])}))})).catch((function(e){return A("error",e)})))}),[_,a]),Object(n.useEffect)((function(){""===l&&(O([]),r(""))}),[l]);var K=function(){B((function(e){return!e}))},P=function(){O([]),u(""),ee.resetQuery()},D=function(e,t){var n=null,r=null;return 0===t.length?(n="warning",r=e>1?"No more images found on your query":"No images found on your query"):t.length>0&&(n="success",r="".concat(t.length,' new images loaded on "').concat(a,'" query. Total: ').concat(p.length+t.length)),A(n,r)};return Object(j.jsxs)("div",{className:$.a.App,children:[Object(j.jsx)(d,{value:l,onInputChange:function(e){u(e.target.value)},onSubmit:function(e){e.preventDefault(),l!==ee.query&&(O([]),ee.resetQuery()),r(l)},onClear:P,isDisabled:""===l.trim()||a===l}),Object(j.jsx)(x,{searched:y,onSearchedClick:function(e){e.target.value!==a&&(P(),u(e.target.value),r(e.target.value),m(1))},onSearchedClear:function(){return C([])}}),Object(j.jsx)(U,{imagesArray:p,onClick:function(e){if("IMG"===e.target.nodeName){var t=p.findIndex((function(t){return t.webformatURL===e.target.src}));Q(t)}M(!L)}}),w&&Object(j.jsx)(T.a,{type:"Circles",color:"#00BFFF",height:100,width:100}),!!p.length&&!w&&Object(j.jsx)(J,{loadMoreImages:function(){m(ee.nextPage())}}),L&&Object(j.jsx)(H,{images:p,photoIndex:E,onClose:function(){return M(!L)},nextImage:function(){var e=E+1;Q(e>=p.length?0:e)},prevImage:function(){var e=E-1;Q(e<0?p.length-1:e)}}),Object(j.jsx)(V.a,{showUnder:160,children:Object(j.jsx)("button",{type:"button",className:$.a.icon,children:Object(j.jsx)(X.a,{})})}),Object(j.jsx)(G.a,{})]})}var ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,100)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))},ne=a(42),re=a.n(ne),ce=function(e){var t=e.children;return Object(j.jsx)("div",{className:re.a.Container,children:t})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(ce,{children:Object(j.jsx)(te,{})})}),document.getElementById("root")),ae()}},[[87,1,2]]]);
//# sourceMappingURL=main.ba5e1af0.chunk.js.map